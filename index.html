<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyFlex - Home</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="text-white d-flex flex-column min-vh-100 bg-theme-4">

    <button id="theme-toggle" aria-label="Toggle theme">üåô</button>
    
<header class="py-3 border-bottom border-secondary main-header">
    <div class="container-fluid d-flex justify-content-between align-items-center px-4 px-lg-5">
      <div class="header-logo">
        <a href="index.html">
          <img src="images/logo.jpg" alt="MyFlex Logo" class="logo-img" />
        </a>
      </div>

      <nav class="navbar navbar-expand-lg navbar-dark p-0" aria-label="Main Navigation">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav gap-2 gap-lg-4 align-items-center">
            <li class="nav-item"><a class="nav-link text-danger" href="index.html">Home</a></li>
            <li class="nav-item"><a class="nav-link text-white" href="movies.html">Movies</a></li>
            <li class="nav-item"><a class="nav-link text-white" href="news.html">News</a></li>
            <li class="nav-item"><a class="nav-link text-white" href="contact.html">Contact</a></li>
            <li class="nav-item"><a class="nav-link text-white" href="favorites.html">Favorites</a></li>
            <button class="btn btn-danger nav-button px-3" id="openAccessModal">Sign Up</button>
            <button class="btn btn-success nav-button px-3" id="profileBtn" style="display: none;">
                <i class="fas fa-user"></i>
            </button>
          </ul>
        </div>
      </nav>
    </div>
  </header>

    <main class="flex-grow-1">
        <div class="hero-banner mb-5" style="background-image: url('images/index-image.jpg');">
            <h1 class="text-always-white display-3 fw-bold p-3 rounded text-center">Welcome to MyFlex</h1>
        </div>

        <div class="container-fluid px-4 px-lg-5">
            <section class="content-section mb-5">
                <h2 class="text-center mb-4">Movies in trend</h2>
                <div class="gallery-wrapper position-relative"> 
                    <button class="scroll-button left-arrow" aria-label="Scroll Left" data-target="movies-track">&#10094;</button>
                    <div class="gallery-track scrollable" id="movies-track"> 
                        <article class="movie-card">
                            <a href="movie-details.html?staticId=1">
                                <img src="images/28years.jpg" alt="28 years later">
                            </a>
                        </article>
                        <article class="movie-card">
                            <a href="movie-details.html?staticId=2">
                                <img src="images/backinaction.jpg" alt="Back In Action">
                            </a>
                        </article>
                        <article class="movie-card">
                            <a href="movie-details.html?staticId=3">
                                <img src="images/f1.jpg" alt="F1">
                            </a>
                        </article>
                        <article class="movie-card">
                            <a href="movie-details.html?staticId=4">
                                <img src="images/journey2.jpeg" alt="Journey 2">
                            </a>
                        </article>
                        <article class="movie-card">
                            <a href="movie-details.html?staticId=5">
                                <img src="images/materialists.jpeg" alt="Materialists">
                            </a>
                        </article>
                        <article class="movie-card">
                            <a href="movie-details.html?staticId=6">
                                <img src="images/thepickup.jpg" alt="The Pickup">
                            </a>
                        </article>
                        <article class="movie-card">
                            <a href="movie-details.html?staticId=7">
                                <img src="images/magnseven.jpg" alt="The Magnificent Seven">
                            </a>
                        </article>
                        <article class="movie-card">
                            <a href="movie-details.html?staticId=8">
                                <img src="images/steve.jpg" alt="Steve">
                            </a>
                        </article>
                        <article class="movie-card">
                            <a href="movie-details.html?staticId=9">
                                <img src="images/thetomorrowwar.webp" alt="The Tomorrow War">
                            </a>
                        </article>
                        <article class="movie-card">
                            <a href="movie-details.html?staticId=10">
                                <img src="images/thewoman.jpg" alt="The Woman">
                            </a>
                        </article>
                        <article class="movie-card">
                            <a href="movie-details.html?staticId=11">
                                <img src="images/waroftheworls.jpg" alt="War of the Worlds">
                            </a>
                        </article>
                    </div>
                    <button class="scroll-button right-arrow" aria-label="Scroll Right" data-target="movies-track">&#10095;</button>
                </div>
            </section>

            <section class="content-section mb-5">
                <h2 class="text-center mb-4">Frequently Asked Questions</h2>
                <div class="accordion-container">
                    <div class="accordion-item">
                        <button class="accordion-header" aria-expanded="false">
                            <span class="accordion-marker text-danger">Q:</span>
                            <span class="accordion-title">How do I start watching?</span>
                            <i class="accordion-icon fas fa-chevron-down"></i>
                        </button>
                        <div class="accordion-content">
                            <div class="accordion-body">
                                <p>Sign up by clicking the "Sign Up" button to access our movie library.</p>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <button class="accordion-header" aria-expanded="false">
                            <span class="accordion-marker text-danger">Q:</span>
                            <span class="accordion-title">Is MyFlex free?</span>
                            <i class="accordion-icon fas fa-chevron-down"></i>
                        </button>
                        <div class="accordion-content">
                            <div class="accordion-body">
                                <p>MyFlex offers free basic access with ads.</p>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <button class="accordion-header" aria-expanded="false">
                            <span class="accordion-marker text-danger">Q:</span>
                            <span class="accordion-title">How often is content updated?</span>
                            <i class="accordion-icon fas fa-chevron-down"></i>
                        </button>
                        <div class="accordion-content">
                            <div class="accordion-body">
                                <p>We add new movies every week.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏/–≤—Ö–æ–¥–∞ -->
    <div id="accessModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h3 id="modalAccessTitle">Sign In to MyFlix</h3>

            <div class="form-wrapper" id="loginPanel">
                <form id="loginForm">
                    <div class="form-group">
                        <label for="logEmail">Email:</label>
                        <input type="email" id="logEmail" class="form-control" />
                    </div>
                    <div class="form-group">
                        <label for="logPassword">Password:</label>
                        <input type="password" id="logPassword" class="form-control" />
                    </div>
                    <button type="submit" class="btn btn-danger w-100 mt-3">Sign In</button>
                    <div class="success-message mt-2" id="logSuccessMessage"></div>
                </form>
                <p class="switch-link mt-3 text-center">
                    Don't have an account? <a href="#" id="showRegister" class="text-danger">Register</a>
                </p>
            </div>

            <div class="form-wrapper" id="registerPanel" style="display: none;">
                <form id="registrationForm">
                    <div class="form-group">
                        <label for="regName">Name:</label>
                        <input type="text" id="regName" class="form-control" />
                    </div>
                    <div class="form-group">
                        <label for="regEmail">Email:</label>
                        <input type="email" id="regEmail" class="form-control" />
                    </div>
                    <div class="form-group">
                        <label for="regPassword">Password:</label>
                        <input type="password" id="regPassword" class="form-control" />
                    </div>
                    <div class="form-group">
                        <label for="regConfirmPassword">Confirm Password:</label>
                        <input type="password" id="regConfirmPassword" class="form-control" />
                    </div>
                    <button type="submit" class="btn btn-danger w-100 mt-3">Register</button>
                    <div class="success-message mt-2" id="regSuccessMessage"></div>
                </form>
                <p class="switch-link mt-3 text-center">
                    Already have an account? <a href="#" id="showLogin" class="text-danger">Sign In</a>
                </p>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–æ—Ñ–∏–ª—è -->
    <div id="profileModal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="closeProfileModal">&times;</span>
            <h3>User Profile</h3>
            <div id="userProfileInfo">
                <p><strong>Name:</strong> <span id="profileName"></span></p>
                <p><strong>Email:</strong> <span id="profileEmail"></span></p>
            </div>
            <button class="btn btn-warning w-100 mt-3" id="logoutBtn">Log Out</button>
        </div>
    </div>

    <footer class="text-light mt-auto pt-5 pb-3 border-top border-secondary main-footer">
        <div class="container">
            <div class="footer-bottom text-center">
                &copy; Alua Sagyndyk, Altynay Bolatova, Farida Dovletbaeva ‚Äî 2025 MyFlix
            </div>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/arrow.js"></script>
    <script src="js/accordion.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/theme-switcher.js"></script>
    <script src="js/navKeyboard.js"></script>
    <script src="js/indexclick.js"></script>
    
    <!-- –î–æ–±–∞–≤–ª–µ–Ω —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–æ—Ñ–∏–ª—è -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const profileBtn = document.getElementById('profileBtn');
            const profileModal = document.getElementById('profileModal');
            const closeProfileModal = document.getElementById('closeProfileModal');
            const logoutBtn = document.getElementById('logoutBtn');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            function checkAuthStatus() {
                const user = JSON.parse(localStorage.getItem('currentUser'));
                if (user) {
                    document.getElementById('profileBtn').style.display = 'block';
                    document.getElementById('openAccessModal').style.display = 'none';
                    
                    // –ó–∞–ø–æ–ª–Ω—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø—Ä–æ—Ñ–∏–ª—è
                    document.getElementById('profileName').textContent = user.name;
                    document.getElementById('profileEmail').textContent = user.email;
                } else {
                    document.getElementById('profileBtn').style.display = 'none';
                    document.getElementById('openAccessModal').style.display = 'block';
                }
            }
            
            // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–æ—Ñ–∏–ª—è
            if (profileBtn) {
                profileBtn.addEventListener('click', function() {
                    profileModal.style.display = 'block';
                });
            }
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–æ—Ñ–∏–ª—è
            if (closeProfileModal) {
                closeProfileModal.addEventListener('click', function() {
                    profileModal.style.display = 'none';
                });
            }
            
            // –í—ã—Ö–æ–¥ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞
            if (logoutBtn) {
                logoutBtn.addEventListener('click', function() {
                    localStorage.removeItem('currentUser');
                    checkAuthStatus();
                    profileModal.style.display = 'none';
                    alert('You have been logged out successfully!');
                });
            }
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
            window.addEventListener('click', function(event) {
                if (event.target === profileModal) {
                    profileModal.style.display = 'none';
                }
            });
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            checkAuthStatus();
        });
    </script>
</body>
</html>